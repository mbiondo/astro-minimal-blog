---
const user = Astro.locals.user
---

<header>
	<nav class='mx-auto flex max-w-7xl items-center justify-between p-6 lg:px-8'>
		<div class='flex lg:flex-1'>
			<a href='/' class='-m-1.5 p-1.5'>
				<img class='h-8 w-auto' src='/favicon.svg' alt='astro' />
			</a>
			<p class='text-sm font-semibold leading-6 mt-1'>Astro minimal blog</p>
		</div>
		<div class='lg:flex lg:flex-1 lg:justify-end'>
			{
				user ? (
					<div class='flex  gap-2'>
						<a class='text-sm font-semibold leading-6' href='/articles/new'>
							Create article
						</a>
						<form method='post' action='/api/auth/logout'>
							<button class='text-sm font-semibold leading-6'>
								Logout <span aria-hidden='true'>&rarr;</span>
							</button>
						</form>
					</div>
				) : (
					<Fragment>
						<a class='text-sm font-semibold leading-6' href='/auth/login'>
							Login <span aria-hidden='true'>&rarr;</span>
						</a>
					</Fragment>
				)
			}
		</div>
	</nav>
</header>
