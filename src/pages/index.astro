---
import Layout from '@layout/layout.astro'
import ArticleForm from '@components/forms/article.astro'
import ArticleList from '@components/list/article.astro'
import type { Article } from '@lib/article/types'

const actionManager = Astro.locals.actionManager

const articles: Article[] = await actionManager.execute('article.list', {})
---

<Layout title='Dashboard'>
	<ArticleList articles={articles} />
	{actionManager.canExecute('article.create') && <ArticleForm />}
</Layout>
